# Student Adaptive Learning Engine

This project provides an adaptive learning system where student interactions are tracked, and the system dynamically adjusts to the student’s learning progress. The engine uses FastAPI to create and manage student sessions, while Azure OpenAI services generate personalized queries, evaluate student responses, and provide follow-up queries and recommendations. The system is designed to help students progress by identifying knowledge gaps and offering next steps based on their interaction history.

## Requirements

To set up the environment and install the required dependencies, follow these steps:

### 1. Set Up a Virtual Environment

It’s recommended to use a virtual environment to manage dependencies for the project.

For Windows:
```bash
# Set-up environment
python -m venv student_env
.\student_env\Scripts\activate
```
### 2. Install Dependencies

After activating the virtual environment, install the required dependencies from the `requirements.txt` file:
```bash
pip install -r requirements.txt
```

### 3. Set Up Configuration

Ensure you configure the required API keys and model settings. These configurations should be placed in a `config.py` file:

```python
# config.py
gpt4_model = "your-gpt4-model"
api_key = "your-azure-api-key"
api_version = "your-azure-api-version"
openai_type = "your-openai-type"
azure_endpoint = "your-azure-endpoint"
```

### 4. Run the Application

Once you have installed the dependencies and configured the environment, you can start the FastAPI server using Uvicorn:

```bash
uvicorn main:app --reload
```

This will start the FastAPI server, and you can access the API documentation at:

```
http://localhost:8000/docs
```

## API Overview

### 1. **POST /sessions**

#### **Purpose**:
Creates a new learning session for a student, including their learning goals, level, and difficulty settings. The engine will generate an initial question based on the student’s selected topics.

#### **Request Body**:
```json
{
  "student_id": "123",
  "student_level": "beginner",
  "learning_goals": ["Improve English", "Practice Grammar"]
}
```

- **student_id**: A unique identifier for the student.
- **student_level**: The level of the student, which can be `"beginner"`, `"intermediate"`, or `"advanced"`.
- **learning_goals**: A list of goals the student aims to achieve during the session.

#### **Response**:
```json
{
  "message": "Session created successfully.",
  "session_id": "abcdef123456",
  "interaction_id": "interaction123456",
  "question": "What is the past tense of 'run'?"
}
```

- **message**: A confirmation message indicating whether the session creation was successful.
- **session_id**: A unique session identifier for tracking the student's progress.
- **interaction_id**: A unique identifier for the first interaction.
- **question**: The first question generated by the engine based on the student’s goals and level.

#### **Usage**:
This endpoint starts a learning session for a student by creating a session with the specified learning goals, student level, and difficulty level. The system generates an initial question for the student to answer based on their goals and level.

---

### 2. **POST /sessions/{student_id}/{session_id}/interactions**

#### **Purpose**:
Tracks an interaction between the student and the system, where the student answers a query generated by the system. The system evaluates the student's response, adjusts the difficulty, and provides a follow-up question.

#### **Request Body**:
```json
{
  "interaction_id": "interaction123456",
  "answer": "The past tense of 'run' is 'ran'."
}
```

- **interaction_id**: The unique identifier for the current interaction.
- **answer**: The student’s answer to the query provided by the system.

#### **Response**:
```json
{
  "interaction_id": "interaction789012",
  "follow_up_question": "What is the past tense of 'go'?"
}
```

- **interaction_id**: A new unique identifier for the next interaction.
- **follow_up_question**: A new question generated based on the student’s response and learning goals.

#### **Usage**:
This endpoint tracks a student’s response to the query, evaluates their answer, adjusts the difficulty level based on the confidence in the answer, and provides a follow-up question tailored to the student's progress and learning goals.

---

### 3. **GET /sessions/{student_id}/{session_id}**

#### **Purpose**:
Fetches the current state of a specific learning session, including progress, difficulty level, and session details.

#### **Response**:
```json
{
  "session_state": "in progress",
  "session_progress": 50,
  "number_of_interactions": 5,
  "difficulty_level": "medium",
  "student_level": "beginner",
  "average confidence level": 4.2,
  "avg_response_time": 2.3,
  "learning_goals": ["Improve English"]
}
```

- **session_state**: The current state of the session (e.g., "in progress").
- **session_progress**: The progress made in the session (e.g., 50%).
- **number_of_interactions**: The number of interactions that have occurred.
- **difficulty_level**: The current difficulty level for the session.
- **student_level**: The student’s level (e.g., "beginner").
- **avg_student_rating**: The average rating of the student’s performance.
- **avg_response_time**: The average time it took to respond to the student’s queries.
- **learning_goals**: The list of goals the student is working toward.

#### **Usage**:
This endpoint is used to get an overview of the student's learning session, allowing the student or an administrator to view how the session is progressing. It provides a snapshot of the session's state, interaction history, and performance metrics.

---

### 4. **GET /sessions/{student_id}/{session_id}/recommendations**

#### **Purpose**:
Generates personalized next steps and identifies knowledge gaps for the student based on their progress, session history, and learning goals. This helps guide the student to their next steps in the learning journey.

#### **Response**:
```json
{
  "recommended_next_steps": [
    "Review past tenses of irregular verbs.",
    "Practice more grammar exercises related to tenses."
  ],
  "knowledge_gaps": [
    "Past tenses of irregular verbs."
  ]
}
```

- **recommended_next_steps**: A list of personalized next steps for the student based on their learning history.
- **knowledge_gaps**: A list of identified knowledge gaps that the student should focus on to improve.

#### **Usage**:
This endpoint provides personalized next steps and identifies knowledge gaps based on the student's learning progress, interaction history, and goals. The system helps guide the student to areas where they need improvement, ensuring that their learning journey is optimized for their needs.
Here's how you can add the API details for `/analytics/student/{student_id}` and `/analytics/aggregate` into the existing README file under a new "Analytics API" section.

---

## Analytics API

The following endpoints provide analytics for tracking student performance and overall system usage.

### 1. **GET /analytics/student/{student_id}**

#### **Purpose**:
Retrieves detailed analytics for a specific student, including their session performance, confidence levels, answer accuracy, and mastery of concepts.

#### **Parameters**:
- **student_id**: The unique identifier of the student for whom analytics is being requested.

#### **Response**:
```json
{
  "total_sessions": 5,
  "total_interactions": 50,
  "total_correct_answers": 30,
  "total_incorrect_answers": 10,
  "total_partially_correct_answers": 10,
  "avg_confidence_level": 3.5,
  "avg_interaction_duration": 45.2,
  "concept_mastery": {
    "question_1": 5,
    "question_2": 3
  },
  "misconceptions": {
    "question_3": 2,
    "question_4": 1
  }
}
```

- **total_sessions**: The total number of sessions the student has participated in.
- **total_interactions**: The total number of interactions (questions answered) in all sessions.
- **total_correct_answers**: The number of correct answers the student provided.
- **total_incorrect_answers**: The number of incorrect answers the student provided.
- **total_partially_correct_answers**: The number of partially correct answers the student gave.
- **avg_confidence_level**: The average confidence level of the student based on their interactions.
- **avg_interaction_duration**: The average time the student spent answering each question.
- **concept_mastery**: A dictionary showing the number of correct answers per question, indicating the student’s mastery of those concepts.
- **misconceptions**: A dictionary showing the number of misconceptions (incorrect answers) per question.

#### **Usage**:
This endpoint provides in-depth analytics on a student's learning journey. It helps monitor performance in various aspects, such as accuracy, confidence, and mastery of concepts. Use this endpoint to get a detailed overview of a student's progress.

---

### 2. **GET /analytics/aggregate**

#### **Purpose**:
Retrieves aggregate analytics for all students, summarizing overall system usage, difficulty progression, and common misconceptions across the platform.

#### **Response**:
```json
{
  "number_of_students": 100,
  "total_sessions": 500,
  "total_interactions": 5000,
  "difficulty_progression": {
    "easy": 200,
    "medium": 150,
    "hard": 150
  },
  "avg_interaction_duration": 50.2,
  "avg_confidence_level": 4.0,
  "common_misconceptions": {
    "question_1": 50,
    "question_2": 40
  }
}
```

- **number_of_students**: The total number of students in the system.
- **total_sessions**: The total number of learning sessions conducted across all students.
- **total_interactions**: The total number of interactions (questions answered) across all sessions.
- **difficulty_progression**: A breakdown of the difficulty levels of questions answered across all sessions.
- **avg_interaction_duration**: The average time students took to answer each question across all sessions.
- **avg_confidence_level**: The average confidence level across all students for their answers.
- **common_misconceptions**: A dictionary showing the most common misconceptions, or incorrect answers, for specific questions across all students.

#### **Usage**:
This endpoint provides an overview of the performance of all students in the system. It aggregates data such as session count, interactions, difficulty progression, and common misconceptions, giving insights into the overall effectiveness of the learning engine.

## Workflow

1. **Create a Session**:
   - When a student logs in or starts their learning journey, a session is created using the `/sessions` endpoint. The session includes basic information such as the student's learning goals and their current level. The system generates an initial query for the student to answer.

2. **Track Interactions**:
   - During the session, the student answers questions generated by the system. These interactions are tracked using the `/sessions/{student_id}/{session_id}/interactions` endpoint. The system evaluates the student’s response, adapts the difficulty level, and provides a follow-up question to keep the student progressing.

3. **Monitor Progress**:
   - At any time, the session state, progress, and performance metrics can be retrieved using the `/sessions/{student_id}/{session_id}` endpoint. This helps monitor how well the student is progressing in their learning journey.

4. **Receive Recommendations**:
   - The system can suggest additional resources, questions, or steps for the student to explore based on their learning history and progress using the `/sessions/{student_id}/{session_id}/recommendations` endpoint. This helps the student continue their learning by addressing knowledge gaps and focusing on the most important areas.

5. **View Student Analytics**:
   - To view detailed analytics for a specific student, use the `/analytics/student/{student_id}` endpoint. This provides insights into the student’s session performance, such as their accuracy, confidence levels, and concept mastery.
   - This endpoint helps monitor the student's strengths and areas that need improvement, providing valuable information for both students and educators.

6. **View Aggregate Analytics**:
   - To obtain an overview of the entire system’s performance and student progress, use the `/analytics/aggregate` endpoint. This provides aggregate data on total sessions, interactions, difficulty progression, common misconceptions, and more.
   - It helps administrators and educators identify trends across all students, such as common misconceptions or areas where students struggle most, to refine the learning process.


## Feature Roadmap

The **Feature Roadmap** outlines the planned improvements and updates for the Adaptive Learning Engine, with a focus on enhancing functionality, user engagement, and overall system effectiveness.

### 1. **Data Storage and Management**
- **Current State**: Currently, data is stored in a standard database like JSON file. While this setup is functional, it lacks the scalability and flexibility needed for real-time performance at scale.
- **Planned Updates**: Integrate cloud storage accounts (e.g., AWS, Azure, Google Cloud) to manage data more efficiently and scale as necessary. We will implement enhanced data backup and disaster recovery protocols to ensure data integrity and availability.

### 2. **Textbook Context for Question Generation**
- **Current State**: Currently, OpenAI’s models are used for question generation and answer validation based on knowledge pulled from the AI's own training data.
- **Planned Updates**: Shift to using textbook-specific content as the primary source for generating questions. OpenAI will be prompted to generate questions based on detailed textbook topics, and answers will be validated by comparing them against the textbook content. This approach will ensure that questions are grounded in established educational materials and that students' answers align with textbook knowledge.

### 3. **Audio Input for Answers**
- **Current State**: Students currently provide answers via text input. While this is effective, long answers can be time-consuming to input.
- **Planned Updates**: Introduce audio input functionality to allow students to provide spoken answers. This will streamline the process, especially for lengthy or complex answers, and improve accessibility for students with different preferences or disabilities. We will also implement a speech-to-text engine for real-time transcription and answer validation.

### 4. **Answer Validation Using Evaluation Techniques**
- **Current State**: Answer validation is performed by comparing student responses with OpenAI’s knowledge base.
- **Planned Updates**: Implement advanced evaluation techniques, such as precision, recall, and relevance scoring, to assess the quality and accuracy of student responses. This will allow for a more granular and nuanced assessment of answers, ensuring that the system can distinguish between correct, partially correct, and incorrect answers with higher precision.

### 5. **Engagement and Reward System**
- **Current State**: The system does not currently provide an active engagement mechanism or reward structure to incentivize students.
- **Planned Updates**: Develop a rewards system that introduces points, levels, and badges for students as they progress through sessions. As students complete tests or challenges, they will earn points or score multipliers. Stickers and other forms of positive reinforcement will be awarded based on performance, boosting motivation and encouraging continued learning. AI will help determine the appropriate rewards based on student performance metrics and achievements.

### 6. **Session Midpoint Engagement**
- **Current State**: There are no structured engagement checkpoints during sessions.
- **Planned Updates**: Introduce mid-session assessments and interactive challenges to maintain student engagement. These can take the form of mini-games, quizzes, or other educational activities designed to reinforce learning. The system will assess progress at key points, providing encouragement and rewards for improvement. This feature aims to increase retention and keep students motivated throughout longer sessions.

### 7. **Personalized Learning Paths**
- **Current State**: Personalized recommendations are already provided, but they are somewhat limited in their ability to dynamically adjust based on ongoing performance.
- **Planned Updates**: Enhance the recommendation engine to offer fully personalized learning paths. Based on a student's interactions, performance, and learning preferences, the system will dynamically adjust the curriculum. It will suggest new topics, additional resources, and study techniques tailored to the student's needs, ensuring that each learner progresses at their own pace while receiving the necessary support.

### 8. **AI-Driven Conceptual Understanding Tracking**
- **Current State**: The system tracks basic progress and session completion but does not offer deep insights into conceptual mastery.
- **Planned Updates**: Develop an AI-driven tracking mechanism that not only monitors session progress but also evaluates how well students grasp individual concepts. This will include tracking the time spent on each concept, identifying areas of struggle, and suggesting targeted interventions for topics that require further attention.

By implementing these features, the system will provide a richer, more interactive, and more efficient learning experience, keeping students engaged and optimizing their educational journey.


## Conclusion

The **Student Adaptive Learning Engine** is a powerful tool designed to enhance the learning experience through dynamic, personalized sessions. By leveraging Azure OpenAI services, it provides the ability to generate personalized queries, evaluate student responses, adapt difficulty levels, and offer relevant next steps for continued learning. This system is ideal for creating an interactive, adaptive, and personalized learning environment for students at various skill levels.